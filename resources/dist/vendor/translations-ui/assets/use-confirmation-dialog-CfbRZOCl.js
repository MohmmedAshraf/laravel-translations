import{U as p,G as w}from"./dialog-CgvBQqnz.js";import{d as v,C as h,x,v as y,c as g,o as _,w as n,a as c,u as o,e as d,E as C,k,a5 as E,r as f,a6 as S}from"./app-FBcalNEI.js";import{k as m,S as b}from"./transition-Ca4EwJDw.js";const B=d("div",{class:"fixed inset-0 bg-gray-500/25 backdrop-blur transition-opacity"},null,-1),D={class:"fixed inset-0 overflow-y-auto"},T={class:"flex min-h-full items-center justify-center p-4 text-center"},G=v({__name:"confirmation-dialog",props:{size:{default:"lg"},closeable:{type:Boolean,default:!0},show:{type:Boolean,default:!1}},emits:["close"],setup(u,{emit:t}){const a=u,r=t;h(()=>a.show,e=>{e&&r("close")});const l=()=>{a.closeable&&r("close")};x(()=>document.addEventListener("keydown",e=>e.key==="Escape"&&l()));const i=y(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[a.size]);return(e,s)=>(_(),g(o(b),{appear:"",as:"template",show:e.show},{default:n(()=>[c(o(p),{as:"div",class:"relative z-50",onClose:l},{default:n(()=>[c(o(m),{as:"template","leave-to":"opacity-0",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100",onAfterLeave:l},{default:n(()=>[B]),_:1}),d("div",D,[d("div",T,[c(o(m),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[c(o(w),{class:C([[o(i)],"w-full rounded-2xl bg-white text-left align-middle shadow-xl transition-all"])},{default:n(()=>[k(e.$slots,"default")]),_:3},8,["class"])]),_:3})])])]),_:3})]),_:3},8,["show"]))}});function I(){const u=E(),t=f(!1),a=f(!1),r=()=>{a.value=!0};async function l(e,s){t.value=!0;try{e(),t.value=!1,i(),s&&s.onSuccess&&s.onSuccess()}catch{u.error("Something went wrong, please try again.",{icon:!0,position:S.BOTTOM_CENTER}),t.value=!1,s&&s.onError&&s.onError()}}const i=()=>{a.value=!1};return{loading:t,showDialog:a,openDialog:r,performAction:l,closeDialog:i}}export{G as _,I as u};

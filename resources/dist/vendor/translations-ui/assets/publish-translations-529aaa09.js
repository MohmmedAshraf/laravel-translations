import{_ as $}from"./dialog.vue_vue_type_script_setup_true_lang-32ede5e2.js";import{_ as z}from"./base-button.vue_vue_type_script_setup_true_lang-1ed85eb1.js";import{o as s,c as n,b as e,d as k,p as g,i as C,n as v,u as t,U as j,x as T,_ as A,r as w,a as c,w as p,l as f,k as y,F as E,H as Z,W as L,$ as M,m as N}from"./app-617fbfa1.js";import{r as O}from"./ExclamationCircleIcon-1c8f2590.js";import{r as S}from"./XCircleIcon-cfa19367.js";import{_ as V}from"./icon-publish-ce142197.js";import"./transition-d6bc7ac1.js";import"./_plugin-vue_export-helper-c27b6911.js";function H(d,a){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z","clip-rule":"evenodd"})])}function W(d,a){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z","clip-rule":"evenodd"})])}const D={class:"flex items-start gap-2"},I={class:"mt-0.5 shrink-0"},R={class:"flex-1 md:flex md:justify-between"},U={class:"text-sm"},F=k({__name:"alert",props:{variant:{default:"info"}},setup(d){const a=d,u=g(()=>({info:"bg-blue-50 border border-blue-500 text-blue-700",success:"bg-green-50 border border-green-500 text-green-700",warning:"bg-yellow-50 border border-yellow-500 text-yellow-700",error:"bg-red-50 border border-red-500 text-red-700"})[a.variant]),r=g(()=>({info:"text-blue-400",success:"text-green-400",warning:"text-yellow-400",error:"text-red-400"})[a.variant]),o=g(()=>({info:W,success:H,warning:O,error:S})[a.variant]);return(_,b)=>(s(),n("div",{class:v(["rounded-md px-2 py-2.5",[t(u)]])},[e("div",D,[e("div",I,[(s(),C(j(t(o)),{class:v(["size-4",t(r)]),"aria-hidden":"true"},null,8,["class"]))]),e("div",R,[e("p",U,[T(_.$slots,"default")])])])],2))}});function q(d,a){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"}),e("path",{d:"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"})])}const G={key:0,class:"relative flex flex-col items-start justify-center gap-4 px-6 py-4"},J={class:"flex w-full items-start gap-4"},K={class:"flex size-16 shrink-0"},Q=e("div",{class:"flex-1"},[e("h3",{class:"text-xl font-semibold leading-6 text-gray-600"}," Publish Translations "),e("p",{class:"mt-1 text-sm text-gray-500"}," Be cautious when publishing, as this action will update your project with all translations and changes made in the database, overwriting project files. ")],-1),X={key:0,class:"w-full text-center"},Y=e("strong",null,"Warning:",-1),ee=e("span",null,"Download",-1),te={key:1,class:"relative flex flex-col items-start justify-center gap-4 px-6 py-4"},se=e("div",{class:"mx-auto flex size-12 shrink-0 items-center justify-center"},[e("span",{role:"img",class:"text-4xl"},"ðŸ¤”")],-1),ae=e("div",{class:"w-full text-center"},[e("h3",{class:"text-xl font-semibold leading-6 text-gray-600"}," What are you trying to do? "),e("p",{class:"mt-4 text-sm text-gray-500"}," Add languages to your project, then come back to publish translations when you're ready. ")],-1),oe=[se,ae],_e=k({__name:"publish-translations",props:{canPublish:{type:Boolean},isProductionEnv:{type:Boolean}},setup(d){const a=A(),{close:u}=Z(),r=w(!1),o=w(!1),_=()=>{r.value=!0,L.post(route("ltu.translation.export"),{},{preserveScroll:!0,onSuccess:()=>{r.value=!1,u()}})},b=()=>{o.value=!0,fetch(route("ltu.translation.download")).then(async l=>{let x=await l.blob();o.value=!1;const i=document.createElement("a"),m=window.URL.createObjectURL(x);i.download="lang.zip",i.href=m,document.body.appendChild(i),i.click(),document.body.removeChild(i),o.value=!1,u()}).catch(l=>{a.error("Something went wrong, please try again.",{icon:!0,position:M.BOTTOM_CENTER})})};return(l,x)=>{const i=N,m=V,B=F,h=z,P=$;return s(),n(E,null,[c(i,{title:"Add Languages"}),c(P,{size:"lg"},{default:p(()=>[l.canPublish?(s(),n("div",G,[e("div",J,[e("div",K,[c(m,{class:"size-16 text-blue-300"})]),Q]),l.isProductionEnv?(s(),n("div",X,[c(B,{variant:"warning",class:"text-left"},{default:p(()=>[Y,f(" This is a Production Environment. Publishing translations will causing issues with version control and other developers, Please use the download button below instead. ")]),_:1}),c(h,{disabled:t(r)||t(o),"is-loading":t(o),variant:"dark",size:"lg",class:"mt-4","full-width":"",target:"_blank",onClick:b},{default:p(()=>[c(t(q),{class:"size-4"}),ee]),_:1},8,["disabled","is-loading"])])):y("",!0)])):(s(),n("div",te,oe)),e("div",{class:v(["grid grid-cols-1 gap-6 border-t px-6 py-4",{"md:grid-cols-2":l.canPublish}])},[c(h,{variant:"secondary",type:"button",size:"lg",tabindex:"1",onClick:t(u)},{default:p(()=>[f(" Close ")]),_:1},8,["onClick"]),l.canPublish?(s(),C(h,{key:0,variant:"primary",type:"button",size:"lg",disabled:t(r)||t(o),"is-loading":t(r),onClick:_},{default:p(()=>[f(" Publish ")]),_:1},8,["disabled","is-loading"])):y("",!0)],2)]),_:1})],64)}}});export{_e as default};

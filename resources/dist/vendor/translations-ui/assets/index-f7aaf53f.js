import{E as W,G as j,I as M,J as L,r as w,u as U,K as q,L as G,p as x,q as b,M as F,e as $}from"./app-617fbfa1.js";function T(e){return W()?(q(e),!0):!1}function g(e){return typeof e=="function"?e():U(e)}const A=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const B=Object.prototype.toString,D=e=>B.call(e)==="[object Object]",O=()=>{},Q=J();function J(){var e,t;return A&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function K(e){let t;function a(){return t||(t=e()),t}return a.reset=async()=>{const i=t;t=void 0,i&&await i},a}function P(...e){if(e.length!==1)return j(...e);const t=e[0];return typeof t=="function"?M(L(()=>({get:t,set:O}))):w(t)}function N(e,t,a={}){const{immediate:i=!0}=a,r=w(!1);let s=null;function u(){s&&(clearTimeout(s),s=null)}function d(){r.value=!1,u()}function o(...l){u(),r.value=!0,s=setTimeout(()=>{r.value=!1,s=null,e(...l)},g(t))}return i&&(r.value=!0,A&&o()),T(d),{isPending:M(r),start:o,stop:d}}function V(e){var t;const a=g(e);return(t=a==null?void 0:a.$el)!=null?t:a}const R=A?window:void 0,k=A?window.navigator:void 0;function I(...e){let t,a,i,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([a,i,r]=e,t=R):[t,a,i,r]=e,!t)return O;Array.isArray(a)||(a=[a]),Array.isArray(i)||(i=[i]);const s=[],u=()=>{s.forEach(c=>c()),s.length=0},d=(c,p,v,m)=>(c.addEventListener(p,v,m),()=>c.removeEventListener(p,v,m)),o=b(()=>[V(t),g(r)],([c,p])=>{if(u(),!c)return;const v=D(p)?{...p}:p;s.push(...a.flatMap(m=>i.map(h=>d(c,m,h,v))))},{immediate:!0,flush:"post"}),l=()=>{o(),u()};return T(l),l}function z(){const e=w(!1);return F()&&$(()=>{e.value=!0}),e}function E(e){const t=z();return x(()=>(t.value,!!e()))}function _(e,t={}){const{controls:a=!1,navigator:i=k}=t,r=E(()=>i&&"permissions"in i);let s;const u=typeof e=="string"?{name:e}:e,d=w(),o=()=>{s&&(d.value=s.state)},l=K(async()=>{if(r.value){if(!s)try{s=await i.permissions.query(u),I(s,"change",o),o()}catch{d.value="prompt"}return s}});return l(),a?{state:d,isSupported:r,query:l}:d}function X(e={}){const{navigator:t=k,read:a=!1,source:i,copiedDuring:r=1500,legacy:s=!1}=e,u=E(()=>t&&"clipboard"in t),d=_("clipboard-read"),o=_("clipboard-write"),l=x(()=>u.value||s),c=w(""),p=w(!1),v=N(()=>p.value=!1,r);function m(){u.value&&d.value!=="denied"?t.clipboard.readText().then(f=>{c.value=f}):c.value=C()}l.value&&a&&I(["copy","cut"],m);async function h(f=g(i)){l.value&&f!=null&&(u.value&&o.value!=="denied"?await t.clipboard.writeText(f):y(f),c.value=f,p.value=!0,v.start())}function y(f){const n=document.createElement("textarea");n.value=f??"",n.style.position="absolute",n.style.opacity="0",document.body.appendChild(n),n.select(),document.execCommand("copy"),n.remove()}function C(){var f,n,S;return(S=(n=(f=document==null?void 0:document.getSelection)==null?void 0:f.call(document))==null?void 0:n.toString())!=null?S:""}return{isSupported:l,text:c,copied:p,copy:h}}function Y(e,t={}){const{pitch:a=1,rate:i=1,volume:r=1,window:s=R}=t,u=s&&s.speechSynthesis,d=E(()=>u),o=w(!1),l=w("init"),c=P(e||""),p=P(t.lang||"en-US"),v=G(void 0),m=(n=!o.value)=>{o.value=n},h=n=>{n.lang=g(p),n.voice=g(t.voice)||null,n.pitch=g(a),n.rate=g(i),n.volume=r,n.onstart=()=>{o.value=!0,l.value="play"},n.onpause=()=>{o.value=!1,l.value="pause"},n.onresume=()=>{o.value=!0,l.value="play"},n.onend=()=>{o.value=!1,l.value="end"},n.onerror=S=>{v.value=S}},y=x(()=>{o.value=!1,l.value="init";const n=new SpeechSynthesisUtterance(c.value);return h(n),n}),C=()=>{u.cancel(),y&&u.speak(y.value)},f=()=>{u.cancel(),o.value=!1};return d.value&&(h(y.value),b(p,n=>{y.value&&!o.value&&(y.value.lang=n)}),t.voice&&b(t.voice,()=>{u.cancel()}),b(o,()=>{o.value?u.resume():u.pause()})),T(()=>{o.value=!1}),{isSupported:d,isPlaying:o,status:l,utterance:y,error:v,stop:f,toggle:m,speak:C}}export{X as a,P as b,T as c,D as d,A as e,Q as i,O as n,g as t,Y as u};

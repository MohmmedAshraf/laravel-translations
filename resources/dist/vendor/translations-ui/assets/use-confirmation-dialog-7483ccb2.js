import{G as p,Y as w}from"./dialog-cfb46eba.js";import{d as v,D as h,z as y,v as g,o as x,c as _,w as n,e as c,u as o,g as d,G as C,l as S,a6 as b,r as f,a7 as B}from"./app-4a4d2073.js";import{r as m,S as D}from"./transition-6f9813b8.js";const E=d("div",{class:"fixed inset-0 bg-gray-500/25 backdrop-blur transition-opacity"},null,-1),k={class:"fixed inset-0 overflow-y-auto"},z={class:"flex min-h-full items-center justify-center p-4 text-center"},A=v({__name:"confirmation-dialog",props:{size:{default:"lg"},closeable:{type:Boolean,default:!0},show:{type:Boolean,default:!1}},emits:["close"],setup(u,{emit:t}){const a=u,r=t;h(()=>a.show,e=>{e&&r("close")});const l=()=>{a.closeable&&r("close")};y(()=>document.addEventListener("keydown",e=>e.key==="Escape"&&l()));const i=g(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[a.size]);return(e,s)=>(x(),_(o(D),{appear:"",as:"template",show:e.show},{default:n(()=>[c(o(w),{as:"div",class:"relative z-50",onClose:l},{default:n(()=>[c(o(m),{as:"template","leave-to":"opacity-0",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100",onAfterLeave:l},{default:n(()=>[E]),_:1}),d("div",k,[d("div",z,[c(o(m),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[c(o(p),{class:C([[o(i)],"w-full rounded-2xl bg-white text-left align-middle shadow-xl transition-all"])},{default:n(()=>[S(e.$slots,"default")]),_:3},8,["class"])]),_:3})])])]),_:3})]),_:3},8,["show"]))}});function I(){const u=b(),t=f(!1),a=f(!1),r=()=>{a.value=!0};async function l(e,s){t.value=!0;try{e(),t.value=!1,i(),s&&s.onSuccess&&s.onSuccess()}catch{u.error("Something went wrong, please try again.",{icon:!0,position:B.BOTTOM_CENTER}),t.value=!1,s&&s.onError&&s.onError()}}const i=()=>{a.value=!1};return{loading:t,showDialog:a,openDialog:r,performAction:l,closeDialog:i}}export{A as _,I as u};

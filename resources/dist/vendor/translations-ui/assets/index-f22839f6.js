import{_ as Z}from"./layout-dashboard.vue_vue_type_script_setup_true_lang-71f2b65d.js";import{_ as J}from"./pagination.vue_vue_type_script_setup_true_lang-11c6927a.js";import{u as M,_ as Q}from"./use-confirmation-dialog-7483ccb2.js";import{_ as X}from"./base-button.vue_vue_type_script_setup_true_lang-193acd9e.js";import{_ as Y}from"./icon-trash-75567c7f.js";import{_ as ee}from"./icon-plus-ae237aca.js";import{_ as te}from"./input-checkbox.vue_vue_type_script_setup_true_lang-e805bc21.js";import{_ as se}from"./input-native-select.vue_vue_type_script_setup_true_lang-cff27618.js";import{_ as oe}from"./input-text.vue_vue_type_script_setup_true_lang-795089e2.js";import{_ as le}from"./icon-arrow-right-7f7a44a3.js";import{d as ae,r as h,v as C,D as ne,O as D,p as ie,o as u,j as g,e as o,u as t,b as a,w as r,g as e,t as i,q as v,c as x,G as re,a as z,F as S,s as de,Z as ce,i as ue}from"./app-4a4d2073.js";import{_ as me}from"./flag.vue_vue_type_script_setup_true_lang-0db41313.js";import{_ as _e}from"./source-phrase-item.vue_vue_type_script_setup_true_lang-3b7c4b39.js";import{l as pe}from"./lodash-f73afb92.js";import"./icon-publish-b2d2c7a1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logo-2c45efc9.js";import"./use-auth-b15d7d50.js";import"./transition-6f9813b8.js";import"./icon-arrow-left-3e5a4757.js";import"./dialog-cfb46eba.js";import"./use-input-size-e87d9a0c.js";import"./icon-pencil-4c57a524.js";const fe={class:"w-full bg-white shadow"},he={class:"mx-auto flex w-full max-w-7xl items-center justify-between px-6 lg:px-8"},ge={class:"flex w-full items-center"},ve={class:"flex w-full items-center gap-3 py-4"},xe={class:"h-5 shrink-0"},we={class:"flex items-center space-x-2"},ye=["textContent"],be=["textContent"],ke={class:"mx-auto max-w-7xl px-6 py-10 lg:px-8"},Ce={class:"w-full divide-y overflow-hidden rounded-md bg-white shadow"},De={class:"flex w-full flex-wrap items-center justify-between gap-4 px-4 py-3 sm:flex-nowrap"},ze={class:"w-full max-w-full md:max-w-sm"},Se={class:"w-full max-w-full md:max-w-sm"},je={class:"w-full shadow-md"},Fe={class:"flex h-14 w-full divide-x"},$e={class:"flex w-12 items-center justify-center p-4"},Ve={class:"grid w-full grid-cols-2 divide-x"},Be={class:"flex w-full items-center justify-start px-4"},Ie={class:"text-sm font-medium text-gray-400"},Ae={class:"flex w-full items-center justify-start px-4"},Ne={class:"text-sm font-medium text-gray-400"},Te={class:"grid w-36 grid-cols-2 divide-x"},Le={class:"flex h-full"},Ee={class:"flex w-full max-w-full"},Oe=["disabled"],Pe={class:"flex flex-col p-6"},Ge={class:"text-xl font-medium text-gray-700"},Ke={class:"mt-2 text-sm text-gray-500"},Ue={class:"mt-4 flex gap-4"},_t=ae({__name:"index",props:{phrases:{},translation:{},files:{},filter:{}},setup(j){var y,b;const d=j,m=h(((y=d.filter)==null?void 0:y.keyword)||""),_=h(((b=d.filter)==null?void 0:b.translationFile)||""),F=C(()=>d.files.map(s=>({value:s.id,label:s.nameWithExtension})));ne([m,_],pe.debounce(()=>{D.get(route("ltu.source_translation"),{filter:{keyword:m.value||void 0,translationFile:_.value||void 0}},{preserveState:!0,preserveScroll:!0,only:["phrases"]})},300));const l=h([]),{loading:$,showDialog:V,openDialog:w,performAction:B,closeDialog:I}=M(),A=async()=>{await B(()=>D.post(route("ltu.source_translation.delete_phrases"),{selected_ids:l.value},{preserveScroll:!0,onSuccess:()=>{l.value=[]}}))};function N(){l.value.length===d.phrases.data.length?l.value=[]:l.value=d.phrases.data.map(s=>s.id)}const T=C(()=>l.value.length===Object.keys(d.phrases.data).length);return(s,c)=>{const L=ce,E=me,p=ue,O=le,P=oe,G=se,K=te,U=ee,q=Y,k=X,H=Q,R=J,W=Z,f=ie("tooltip");return u(),g(S,null,[o(L,{title:t(a)("Base Language")},null,8,["title"]),o(W,null,{default:r(()=>[e("div",fe,[e("div",he,[e("div",ge,[e("div",ve,[o(p,{href:s.route("ltu.source_translation"),class:"flex items-center gap-2 rounded-md border border-transparent bg-gray-50 px-2 py-1 hover:border-blue-400 hover:bg-blue-100"},{default:r(()=>[e("div",xe,[o(E,{"country-code":s.translation.language.code,width:"w-5"},null,8,["country-code"])]),e("div",we,[e("div",{class:"text-sm font-semibold text-gray-600",textContent:i(s.translation.language.name)},null,8,ye)])]),_:1},8,["href"]),e("div",{class:"rounded-md border bg-white px-1.5 py-0.5 text-sm text-gray-500",textContent:i(s.translation.language.code)},null,8,be)])]),v((u(),x(p,{href:s.route("ltu.translation.index"),class:"flex size-10 items-center justify-center rounded-full bg-gray-100 p-1 hover:bg-gray-200"},{default:r(()=>[o(O,{class:"size-6 text-gray-400"})]),_:1},8,["href"])),[[f,t(a)("Go back")]])])]),e("div",ke,[e("div",Ce,[e("div",De,[e("div",ze,[o(P,{modelValue:m.value,"onUpdate:modelValue":c[0]||(c[0]=n=>m.value=n),placeholder:t(a)("Search by key or value"),size:"md"},null,8,["modelValue","placeholder"])]),e("div",Se,[o(G,{id:"translationFile",modelValue:_.value,"onUpdate:modelValue":c[1]||(c[1]=n=>_.value=n),size:"md",placeholder:t(a)("Filter by file"),items:F.value},null,8,["modelValue","placeholder","items"])])]),e("div",je,[e("div",Fe,[e("div",$e,[o(K,{disabled:!s.phrases.data.length,checked:T.value,onClick:N},null,8,["disabled","checked"])]),e("div",Ve,[e("div",Be,[e("span",Ie,i(t(a)("Key")),1)]),e("div",Ae,[e("span",Ne,i(t(a)("String")),1)])]),e("div",Te,[v((u(),x(p,{href:s.route("ltu.source_translation.add_source_key"),class:"group flex items-center justify-center hover:bg-blue-50"},{default:r(()=>[o(U,{class:"size-5 text-gray-400 group-hover:text-blue-600"})]),_:1},8,["href"])),[[f,t(a)("Add New Key")]]),e("div",Le,[e("div",Ee,[v((u(),g("button",{type:"button",class:re(["relative inline-flex size-14 select-none items-center justify-center p-4 text-sm font-medium uppercase tracking-wide text-gray-400 no-underline outline-none transition-colors duration-150 ease-out",{"cursor-not-allowed":!l.value.length,"cursor-pointer":l.value.length,"hover:bg-red-50 hover:text-red-600":l.value.length,"bg-gray-50":!l.value.length}]),disabled:!l.value.length,onClick:c[2]||(c[2]=(...n)=>t(w)&&t(w)(...n))},[o(q,{class:"size-5"})],10,Oe)),[[f,l.value.length?t(a)("Delete selected"):t(a)("Select phrases to delete")]])])]),o(H,{size:"sm",show:t(V)},{default:r(()=>[e("div",Pe,[e("span",Ge,i(t(a)("Are you sure?")),1),e("span",Ke,i(t(a)("This action cannot be undone, This will permanently delete the selected phrases and all of their translations.")),1),e("div",Ue,[o(k,{variant:"secondary",type:"button",size:"lg","full-width":"",onClick:t(I)},{default:r(()=>[z(i(t(a)("Cancel")),1)]),_:1},8,["onClick"]),o(k,{variant:"danger",type:"button",size:"lg","is-loading":t($),"full-width":"",onClick:A},{default:r(()=>[z(i(t(a)("Delete")),1)]),_:1},8,["is-loading"])])])]),_:1},8,["show"])])])]),(u(!0),g(S,null,de(s.phrases.data,n=>(u(),x(_e,{key:n.uuid,phrase:n,"selected-ids":l.value},null,8,["phrase","selected-ids"]))),128)),o(R,{links:s.phrases.links,meta:s.phrases.meta},null,8,["links","meta"])])])]),_:1})],64)}}});export{_t as default};

import{_ as se}from"./dialog.vue_vue_type_script_setup_true_lang-e67a15cb.js";import{_ as ie}from"./base-button.vue_vue_type_script_setup_true_lang-8a7810cf.js";import{_ as ue,a as de}from"./input-label.vue_vue_type_script_setup_true_lang-1dbf30eb.js";import{_ as pe}from"./input-text.vue_vue_type_script_setup_true_lang-bf75cbe0.js";import{_ as ce}from"./icon-close-53390060.js";import{_ as me}from"./_plugin-vue_export-helper-c27b6911.js";import{l as R,b as c,y as W,d as N,z as G,A as Z,u as p,B as q,C as S,D as fe,E as H,F as L,o as V,c as P,a as v,T as ve,h as _,w,g as E,x as be,e as ge,n as C,t as U,H as _e,Z as ye}from"./app-7542d82e.js";import{t as F,H as D,O as he,o as j,f as xe,K as we,a as Se,T as ke,b as $,m as I,P as z,N as T,c as K}from"./transition-738a3b62.js";import{M as J,E as $e}from"./dialog-1984a6fd.js";import{p as Re}from"./use-tree-walker-bde861a2.js";import"./use-input-size-1415f3d5.js";function Y(e={},a=null,r=[]){for(let[l,n]of Object.entries(e))X(r,Q(a,l),n);return r}function Q(e,a){return e?e+"["+a+"]":a}function X(e,a,r){if(Array.isArray(r))for(let[l,n]of r.entries())X(e,Q(a,l.toString()),n);else r instanceof Date?e.push([a,r.toISOString()]):typeof r=="boolean"?e.push([a,r?"1":"0"]):typeof r=="string"?e.push([a,r]):typeof r=="number"?e.push([a,`${r}`]):r==null?e.push([a,""]):Y(r,a,e)}function Ee(e){var a,r;let l=(a=e==null?void 0:e.form)!=null?a:e.closest("form");if(l){for(let n of l.elements)if(n!==e&&(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image")){n.click();return}(r=l.requestSubmit)==null||r.call(l)}}function Oe(e,a,r){let l=R(r==null?void 0:r.value),n=c(()=>e.value!==void 0);return[c(()=>n.value?e.value:l.value),function(d){return n.value||(l.value=d),a==null?void 0:a(d)}]}let ee=Symbol("LabelContext");function te(){let e=q(ee,null);if(e===null){let a=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(a,te),a}return e}function ae({slot:e={},name:a="Label",props:r={}}={}){let l=R([]);function n(d){return l.value.push(d),()=>{let i=l.value.indexOf(d);i!==-1&&l.value.splice(i,1)}}return W(ee,{register:n,slot:e,name:a,props:r}),c(()=>l.value.length>0?l.value.join(" "):void 0)}let Ce=N({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${F()}`}},setup(e,{slots:a,attrs:r}){let l=te();return G(()=>Z(l.register(e.id))),()=>{let{name:n="Label",slot:d={},props:i={}}=l,{id:m,passive:k,...g}=e,x={...Object.entries(i).reduce((b,[y,h])=>Object.assign(b,{[y]:p(h)}),{}),id:m};return k&&(delete x.onClick,delete x.htmlFor,delete g.onClick),D({ourProps:x,theirProps:g,slot:d,attrs:r,slots:a,name:n})}}});function Te(e,a){return e===a}let le=Symbol("RadioGroupContext");function oe(e){let a=q(le,null);if(a===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,oe),r}return a}let Ve=N({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Te},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-radiogroup-${F()}`}},inheritAttrs:!1,setup(e,{emit:a,attrs:r,slots:l,expose:n}){let d=R(null),i=R([]),m=ae({name:"RadioGroupLabel"}),k=J({name:"RadioGroupDescription"});n({el:d,$el:d});let[g,x]=Oe(c(()=>e.modelValue),t=>a("update:modelValue",t),c(()=>e.defaultValue)),b={options:i,value:g,disabled:c(()=>e.disabled),firstOption:c(()=>i.value.find(t=>!t.propsRef.disabled)),containsCheckedOption:c(()=>i.value.some(t=>b.compare(S(t.propsRef.value),S(e.modelValue)))),compare(t,s){if(typeof e.by=="string"){let o=e.by;return(t==null?void 0:t[o])===(s==null?void 0:s[o])}return e.by(t,s)},change(t){var s;if(e.disabled||b.compare(S(g.value),S(t)))return!1;let o=(s=i.value.find(f=>b.compare(S(f.propsRef.value),S(t))))==null?void 0:s.propsRef;return o!=null&&o.disabled?!1:(x(t),!0)},registerOption(t){i.value.push(t),i.value=he(i.value,s=>s.element)},unregisterOption(t){let s=i.value.findIndex(o=>o.id===t);s!==-1&&i.value.splice(s,1)}};W(le,b),Re({container:c(()=>j(d)),accept(t){return t.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function y(t){if(!d.value||!d.value.contains(t.target))return;let s=i.value.filter(o=>o.propsRef.disabled===!1).map(o=>o.element);switch(t.key){case $.Enter:Ee(t.currentTarget);break;case $.ArrowLeft:case $.ArrowUp:if(t.preventDefault(),t.stopPropagation(),z(s,T.Previous|T.WrapAround)===K.Success){let o=i.value.find(f=>{var u;return f.element===((u=I(d))==null?void 0:u.activeElement)});o&&b.change(o.propsRef.value)}break;case $.ArrowRight:case $.ArrowDown:if(t.preventDefault(),t.stopPropagation(),z(s,T.Next|T.WrapAround)===K.Success){let o=i.value.find(f=>{var u;return f.element===((u=I(f.element))==null?void 0:u.activeElement)});o&&b.change(o.propsRef.value)}break;case $.Space:{t.preventDefault(),t.stopPropagation();let o=i.value.find(f=>{var u;return f.element===((u=I(f.element))==null?void 0:u.activeElement)});o&&b.change(o.propsRef.value)}break}}let h=c(()=>{var t;return(t=j(d))==null?void 0:t.closest("form")});return G(()=>{fe([h],()=>{if(!h.value||e.defaultValue===void 0)return;function t(){b.change(e.defaultValue)}return h.value.addEventListener("reset",t),()=>{var s;(s=h.value)==null||s.removeEventListener("reset",t)}},{immediate:!0})}),()=>{let{disabled:t,name:s,id:o,form:f,...u}=e,O={ref:d,id:o,role:"radiogroup","aria-labelledby":m.value,"aria-describedby":k.value,onKeydown:y};return H(L,[...s!=null&&g.value!=null?Y({[s]:g.value}).map(([B,A])=>H(xe,we({features:Se.Hidden,key:B,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:f,name:B,value:A}))):[],D({ourProps:O,theirProps:{...r,...ke(u,["modelValue","defaultValue","by"])},slot:{},attrs:r,slots:l,name:"RadioGroup"})])}}});var je=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(je||{});let Ne=N({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-radiogroup-option-${F()}`}},setup(e,{attrs:a,slots:r,expose:l}){let n=oe("RadioGroupOption"),d=ae({name:"RadioGroupLabel"}),i=J({name:"RadioGroupDescription"}),m=R(null),k=c(()=>({value:e.value,disabled:e.disabled})),g=R(1);l({el:m,$el:m});let x=c(()=>j(m));G(()=>n.registerOption({id:e.id,element:x,propsRef:k})),Z(()=>n.unregisterOption(e.id));let b=c(()=>{var u;return((u=n.firstOption.value)==null?void 0:u.id)===e.id}),y=c(()=>n.disabled.value||e.disabled),h=c(()=>n.compare(S(n.value.value),S(e.value))),t=c(()=>y.value?-1:h.value||!n.containsCheckedOption.value&&b.value?0:-1);function s(){var u;n.change(e.value)&&(g.value|=2,(u=j(m))==null||u.focus())}function o(){g.value|=2}function f(){g.value&=-3}return()=>{let{id:u,value:O,disabled:B,...A}=e,re={checked:h.value,disabled:y.value,active:!!(g.value&2)},ne={id:u,ref:m,role:"radio","aria-checked":h.value?"true":"false","aria-labelledby":d.value,"aria-describedby":i.value,"aria-disabled":y.value?!0:void 0,tabIndex:t.value,onClick:y.value?void 0:s,onFocus:y.value?void 0:o,onBlur:y.value?void 0:f};return D({ourProps:ne,theirProps:A,slot:re,attrs:a,slots:r,name:"RadioGroupOption"})}}}),M=Ce,Be=$e;const Ae={},Ie={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Le=v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 9v.906a2.25 2.25 0 0 1-1.183 1.981l-6.478 3.488M2.25 9v.906a2.25 2.25 0 0 0 1.183 1.981l6.478 3.488m8.839 2.51-4.66-2.51m0 0-1.023-.55a2.25 2.25 0 0 0-2.134 0l-1.022.55m0 0-4.661 2.51m16.5 1.615a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V8.844a2.25 2.25 0 0 1 1.183-1.981l7.5-4.039a2.25 2.25 0 0 1 2.134 0l7.5 4.039a2.25 2.25 0 0 1 1.183 1.98V19.5Z"},null,-1),Pe=[Le];function Ge(e,a){return V(),P("svg",Ie,Pe)}const Fe=me(Ae,[["render",Ge]]),De={class:"flex items-start justify-between gap-4 border-b px-6 py-4"},He={class:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full border"},Ue=v("div",{class:"w-full"},[v("h3",{class:"text-base font-semibold leading-6 text-gray-600"},"Invite Contributor by e-mail"),v("p",{class:"mt-1 text-sm text-gray-500"},"Invite a new contributor to your project.")],-1),ze={class:"flex w-full flex-col space-y-6 p-6"},Ke={class:"w-full space-y-1"},Me={class:"w-full space-y-1"},We={class:"-space-y-px rounded-md bg-white"},Ze=v("span",{class:"h-1.5 w-1.5 rounded-full bg-white"},null,-1),qe=[Ze],Je={class:"ml-3 flex flex-col space-y-2"},Ye={class:"grid grid-cols-1 gap-6 border-t px-6 py-4 md:grid-cols-2"},ut=N({__name:"invite",props:{roles:{}},setup(e){const{close:a}=_e(),l=ve({email:"",role:e.roles[1].value}),n=c(()=>l.email.length>0&&l.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)),d=()=>{l.post(route("ltu.contributors.invite.store"),{preserveScroll:!0,onSuccess:()=>{a()}})};return(i,m)=>{const k=ye,g=Fe,x=ce,b=ue,y=pe,h=de,t=ie,s=se;return V(),P(L,null,[_(k,{title:"Invite Contributor by e-mail"}),_(s,{size:"lg"},{default:w(()=>[v("div",De,[v("div",He,[_(g,{class:"h-6 w-6 text-gray-400"})]),Ue,v("div",{class:"flex w-8 cursor-pointer items-center justify-center text-gray-400 hover:text-gray-600",onClick:m[0]||(m[0]=(...o)=>p(a)&&p(a)(...o))},[_(x,{class:"h-5 w-5"})])]),v("div",ze,[v("div",Ke,[_(b,{value:"E-mail address"}),_(y,{modelValue:p(l).email,"onUpdate:modelValue":m[1]||(m[1]=o=>p(l).email=o),label:"E-mail",type:"email",placeholder:"E-mail address of the contributor",error:p(l).errors.email,disabled:p(l).processing},null,8,["modelValue","error","disabled"]),_(h,{message:p(l).errors.email},null,8,["message"])]),v("div",Me,[_(b,{value:"Select role"}),_(p(Ve),{modelValue:p(l).role,"onUpdate:modelValue":m[2]||(m[2]=o=>p(l).role=o)},{default:w(()=>[_(p(M),{class:"sr-only"},{default:w(()=>[E("Role")]),_:1}),v("div",We,[(V(!0),P(L,null,be(i.roles,(o,f)=>(V(),ge(p(Ne),{as:"template",key:o.value,value:o.value},{default:w(({checked:u,active:O})=>[v("div",{class:C([f===0?"rounded-tl-md rounded-tr-md":"",f===i.roles.length-1?"rounded-bl-md rounded-br-md":"",u?"z-10 border-blue-200 bg-blue-50":"border-gray-200","relative flex cursor-pointer border p-4 focus:outline-none"])},[v("div",{class:C([u?"border-transparent bg-blue-600":"border-gray-300 bg-white",O?"ring-2 ring-blue-600 ring-offset-2":"","mt-0.5 flex h-4 w-4 shrink-0 cursor-pointer items-center justify-center rounded-full border"]),"aria-hidden":"true"},qe,2),v("div",Je,[_(p(M),{as:"span",class:C([u?"text-blue-900":"text-gray-900","block text-sm font-medium"])},{default:w(()=>[E(U(o.label),1)]),_:2},1032,["class"]),_(p(Be),{as:"span",class:C([u?"text-blue-700":"text-gray-500","block text-sm"])},{default:w(()=>[E(U(o.description),1)]),_:2},1032,["class"])])],2)]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue"])])]),v("div",Ye,[_(t,{variant:"secondary",type:"button",size:"lg",onClick:p(a)},{default:w(()=>[E(" Close ")]),_:1},8,["onClick"]),_(t,{onClick:d,variant:"primary",type:"button",size:"lg",disabled:!p(n)||p(l).processing,"is-loading":p(l).processing},{default:w(()=>[E(" Send Invitation ")]),_:1},8,["disabled","is-loading"])])]),_:1})],64)}}});export{ut as default};

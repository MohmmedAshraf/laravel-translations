import{_ as G}from"./layout-dashboard.vue_vue_type_script_setup_true_lang-7654bfd2.js";import{_ as H}from"./pagination.vue_vue_type_script_setup_true_lang-a57652c1.js";import{u as R,_ as U}from"./use-confirmation-dialog-d7ef75d5.js";import{_ as Z}from"./base-button.vue_vue_type_script_setup_true_lang-6faaa598.js";import{_ as q}from"./icon-trash-837dcd50.js";import{_ as J}from"./icon-plus-1734fb8d.js";import{_ as M}from"./input-checkbox.vue_vue_type_script_setup_true_lang-2a46778c.js";import{_ as Q}from"./input-text.vue_vue_type_script_setup_true_lang-488e2743.js";import{_ as W}from"./icon-arrow-right-da4bfcdd.js";import{d as X,l as x,E as Y,O as w,b as ee,s as te,o as a,c as _,h as s,w as l,a as e,t as y,v as p,e as f,n as se,u as i,g as b,F as k,x as oe,Z as le,k as ne}from"./app-6e494c7d.js";import{_ as ae}from"./flag.vue_vue_type_script_setup_true_lang-0fbe3bde.js";import{_ as ie}from"./source-phrase-item.vue_vue_type_script_setup_true_lang-4017589d.js";import{l as re}from"./lodash-846b37c1.js";import"./icon-publish-73e612df.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./logo-487e8493.js";import"./use-auth-937202b1.js";import"./transition-c671a28f.js";import"./icon-arrow-left-24128421.js";import"./dialog-9c140173.js";import"./use-input-size-f1e60ecf.js";import"./icon-pencil-0371ebcb.js";const ce={class:"w-full bg-white shadow"},de={class:"mx-auto flex w-full max-w-7xl items-center justify-between px-6 lg:px-8"},ue={class:"flex w-full items-center"},me={class:"flex w-full items-center gap-3 py-4"},_e={class:"h-5 shrink-0"},pe={class:"flex items-center space-x-2"},fe=["textContent"],he=["textContent"],ge={class:"mx-auto max-w-7xl px-6 py-10 lg:px-8"},ve={class:"w-full divide-y overflow-hidden rounded-md bg-white shadow"},xe={class:"flex w-full flex-wrap items-center justify-between gap-4 px-4 py-3 sm:flex-nowrap"},we={class:"w-full max-w-full md:max-w-sm"},ye={class:"w-full shadow-md"},be={class:"flex h-14 w-full divide-x"},ke={class:"flex w-12 items-center justify-center p-4"},Ce=e("div",{class:"grid w-full grid-cols-2 divide-x"},[e("div",{class:"flex w-full items-center justify-start px-4"},[e("span",{class:"text-sm font-medium text-gray-400"},"Key")]),e("div",{class:"flex w-full items-center justify-start px-4"},[e("span",{class:"text-sm font-medium text-gray-400"},"String")])],-1),De={class:"grid w-36 grid-cols-2 divide-x"},ze={class:"flex h-full"},Se={class:"flex w-full max-w-full"},je=["disabled"],$e={class:"flex flex-col p-6"},Be=e("span",{class:"text-xl font-medium text-gray-700"},"Are you sure?",-1),Ie=e("span",{class:"mt-2 text-sm text-gray-500"}," This action cannot be undone, This will permanently delete the selected phrases and all of their translations. ",-1),Ve={class:"mt-4 flex gap-4"},tt=X({__name:"index",props:{phrases:{},translation:{},filter:{}},setup(C){var g;const r=C,c=x(((g=r.filter)==null?void 0:g.keyword)||"");Y([c],re.debounce(()=>{w.get(route("ltu.source_translation"),{filter:{keyword:c.value||void 0}},{preserveState:!0,preserveScroll:!0,only:["phrases"]})},300));const t=x([]),{loading:D,showDialog:z,openDialog:h,performAction:S,closeDialog:j}=R(),$=async()=>{await S(()=>w.post(route("ltu.source_translation.delete_phrases"),{selected_ids:t.value},{preserveScroll:!0,onSuccess:()=>{t.value=[]}}))};function B(){t.value.length===r.phrases.data.length?t.value=[]:t.value=r.phrases.data.map(o=>o.id)}const I=ee(()=>t.value.length===Object.keys(r.phrases.data).length);return(o,d)=>{const V=le,A=ae,u=ne,T=W,F=Q,L=M,N=J,E=q,v=Z,O=U,P=H,K=G,m=te("tooltip");return a(),_(k,null,[s(V,{title:"Base Language"}),s(K,null,{default:l(()=>[e("div",ce,[e("div",de,[e("div",ue,[e("div",me,[s(u,{href:o.route("ltu.source_translation"),class:"flex items-center gap-2 rounded-md border border-transparent bg-gray-50 px-2 py-1 hover:border-blue-400 hover:bg-blue-100"},{default:l(()=>[e("div",_e,[s(A,{"country-code":o.translation.language.code,width:"w-5"},null,8,["country-code"])]),e("div",pe,[e("div",{class:"text-sm font-semibold text-gray-600",textContent:y(o.translation.language.name)},null,8,fe)])]),_:1},8,["href"]),e("div",{class:"rounded-md border bg-white px-1.5 py-0.5 text-sm text-gray-500",textContent:y(o.translation.language.code)},null,8,he)])]),p((a(),f(u,{href:o.route("ltu.translation.index"),class:"flex size-10 items-center justify-center rounded-full bg-gray-100 p-1 hover:bg-gray-200"},{default:l(()=>[s(T,{class:"size-6 text-gray-400"})]),_:1},8,["href"])),[[m,"Go back"]])])]),e("div",ge,[e("div",ve,[e("div",xe,[e("div",we,[s(F,{modelValue:c.value,"onUpdate:modelValue":d[0]||(d[0]=n=>c.value=n),placeholder:"Search by key or value",size:"md"},null,8,["modelValue"])])]),e("div",ye,[e("div",be,[e("div",ke,[s(L,{disabled:!o.phrases.data.length,checked:I.value,onClick:B},null,8,["disabled","checked"])]),Ce,e("div",De,[p((a(),f(u,{href:o.route("ltu.source_translation.add_source_key"),class:"group flex items-center justify-center hover:bg-blue-50"},{default:l(()=>[s(N,{class:"size-5 text-gray-400 group-hover:text-blue-600"})]),_:1},8,["href"])),[[m,"Add New Key"]]),e("div",ze,[e("div",Se,[p((a(),_("button",{type:"button",class:se(["relative inline-flex size-14 select-none items-center justify-center p-4 text-sm font-medium uppercase tracking-wide text-gray-400 no-underline outline-none transition-colors duration-150 ease-out",{"cursor-not-allowed":!t.value.length,"cursor-pointer":t.value.length,"hover:bg-red-50 hover:text-red-600":t.value.length,"bg-gray-50":!t.value.length}]),disabled:!t.value.length,onClick:d[1]||(d[1]=(...n)=>i(h)&&i(h)(...n))},[s(E,{class:"size-5"})],10,je)),[[m,t.value.length?"Delete selected":"Select phrases to delete"]])])]),s(O,{size:"sm",show:i(z)},{default:l(()=>[e("div",$e,[Be,Ie,e("div",Ve,[s(v,{variant:"secondary",type:"button",size:"lg","full-width":"",onClick:i(j)},{default:l(()=>[b(" Cancel ")]),_:1},8,["onClick"]),s(v,{variant:"danger",type:"button",size:"lg","is-loading":i(D),"full-width":"",onClick:$},{default:l(()=>[b(" Delete ")]),_:1},8,["is-loading"])])])]),_:1},8,["show"])])])]),(a(!0),_(k,null,oe(o.phrases.data,n=>(a(),f(ie,{key:n.uuid,phrase:n,"selected-ids":t.value},null,8,["phrase","selected-ids"]))),128)),s(P,{links:o.phrases.links,meta:o.phrases.meta},null,8,["links","meta"])])])]),_:1})],64)}}});export{tt as default};
